Ruby Bindings to JavaScript in WebKit

With only ffi (gem) and libwebkit-1.0 you can:
  * Call Ruby from JS
  * Call JS from Ruby

With a WebKit binding you can:
  * Access the DOM
  * Manipulate the DOM.
  * and all the above

My Build Enviroment(s):
    * Ubuntu linux 11.04
    * rubygems
    * ffi (gem i ffi)
    * gir_ffi (gem i gir_ffi) [note: gir_ffi needs some gobject introspection libs and data]
    * libwebkitgtk-1.0 (apt-get install libwebkit-dev libwebkitgtk-1.0-0 libwebkitgtk-1.0-common)

Examples: (see samples directory for more and use with WebKit)


# Example: Call Ruby from JS

require 'rubygems'
require 'gir_ffi'
require 'JS'

ctx = JS::GlobalContext.new(nil)
globj = ctx.get_global_object()

fun_obj = JS::Object.make_function_with_callback(ctx,"myFunc") do |this,*args|
  args.join(" ")
end # => a JS::Object

globj['funObj'] = fun_obj

JS.execute_script(ctx,"funObj('Hello','World')") #=> "Hello World"

# Example: Call JS from Ruby

JS.execute_script ctx,"""
  this['myAdd'] = function(a,b) {
    return a + b;
  };
"""

globj['myAdd'].call(3,2) # => 5.0
